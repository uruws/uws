#!/bin/sh
set -eu
cmd=${1:-''}

show_help() {
	echo 'uwscli utils help:'
	grep -Eh '^#uwscli:' ~/bin/* | sed 's/^#uwscli:/\n  /'
	echo
	echo 'run `uwshelp cmd` to get more information about cmd usage.'
}

cmd_help() {
	local cmd=${1}
	if ! test -x ~/bin/${cmd}; then
		echo "help for ${cmd} error: invalid command" >&2
		exit 1
	fi
	grep -Eh '^#uwsdoc:' ~/bin/${cmd} | sed 's/^#uwsdoc://'
}

if test "X${cmd}" = 'X'; then
	show_help
else
	cmd_help ${cmd}
fi
exit 0

#uwscli:uwshelp - show uwscli utils usage description

#uwsdoc:uwshelp [cmd]
#uwsdoc:
#uwsdoc:	With no arguments it will show a brief information for all available
#uwsdoc:	commands. Run uwshelp cmd to get more information about cmd usage.
